{% comment %}
    About Page Template for Goblin Games
    Converts about.html to Shopify Liquid template
{% endcomment %}

<div class="page-about">
    <!-- Hero Section -->
    <section class="hero-section about-hero" aria-labelledby="about-hero-title">
        <div class="hero-content">
            <h1 id="about-hero-title" class="hero-title">{{ page.title | default: 'Our Magical Journey' }}</h1>
            <p class="hero-subtitle">{{ page.content | strip_html | truncatewords: 20 | default: 'Discover the story behind Goblin Games and our passion for bringing magic to every card game' }}</p>
        </div>
        <div class="hero-particles" aria-hidden="true"></div>
    </section>

    <!-- Company Story -->
    <section class="story-section" aria-labelledby="story-title">
        <div class="container">
            <h2 id="story-title" class="section-title">The Tale of Goblin Games</h2>
            
            <div class="story-content">
                <div class="story-text">
                    {% if page.content != blank %}
                        {{ page.content }}
                    {% else %}
                        <h3>From Humble Beginnings</h3>
                        <p>In 2019, deep within the mystical forests of the trading card realm, a clever goblin named Grax discovered something extraordinary. While organizing his vast collection of shiny treasures, he realized that the real magic wasn't in hoarding cards‚Äîit was in sharing the joy and wonder they brought to fellow adventurers.</p>
                        
                        <p>What started as a small corner shop in an enchanted tree hollow has grown into the premier destination for trading card game enthusiasts across all realms. Grax's vision was simple: create a place where every card tells a story, every deck holds potential, and every player feels like part of a magical family.</p>
                        
                        <h3>Our Philosophy</h3>
                        <p>At {{ shop.name }}, we believe that trading cards are more than just collectibles‚Äîthey're gateways to imagination, strategy, and connection. Whether you're a seasoned planeswalker, a rookie trainer, or somewhere in between, our cozy goblin house welcomes all who seek adventure through cardboard and strategy.</p>
                    {% endif %}
                </div>
                
                <div class="story-image">
                    {% if settings.about_founder_image %}
                        {{ settings.about_founder_image | img_url: '600x600' | img_tag: 'Grax the Goblin, founder of Goblin Games, surrounded by trading cards in his cozy shop', 'lazy' }}
                    {% else %}
                        <img src="{{ 'grax-founder.jpg' | asset_img_url: '600x600' }}" alt="Grax the Goblin, founder of Goblin Games" loading="lazy">
                    {% endif %}
                    <figcaption>Grax the Goblin in his original tree hollow shop, circa 2019</figcaption>
                </div>
            </div>
        </div>
    </section>

    <!-- Mission & Values -->
    <section class="values-section" aria-labelledby="values-title">
        <div class="container">
            <h2 id="values-title" class="section-title">Our Core Values</h2>
            
            <div class="values-grid">
                <div class="value-card">
                    <div class="value-icon" aria-hidden="true">üéØ</div>
                    <h3>Authenticity</h3>
                    <p>Every card in our collection is guaranteed authentic. We work directly with publishers and trusted distributors to ensure you're getting genuine products every time.</p>
                </div>
                
                <div class="value-card">
                    <div class="value-icon" aria-hidden="true">ü§ù</div>
                    <h3>Community</h3>
                    <p>We're more than a store‚Äîwe're a gathering place for players, collectors, and dreamers. Our events, tournaments, and casual play nights bring people together.</p>
                </div>
                
                <div class="value-card">
                    <div class="value-icon" aria-hidden="true">üåü</div>
                    <h3>Excellence</h3>
                    <p>From customer service to product quality, we strive for excellence in everything we do. Your satisfaction and enjoyment are our top priorities.</p>
                </div>
                
                <div class="value-card">
                    <div class="value-icon" aria-hidden="true">üé®</div>
                    <h3>Creativity</h3>
                    <p>We celebrate the artistry and imagination that goes into every card design, encouraging creative deck building and innovative play styles.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Team Section -->
    {% if settings.show_team_section %}
    <section class="team-section" aria-labelledby="team-title">
        <div class="container">
            <h2 id="team-title" class="section-title">Meet Our Goblin Crew</h2>
            
            <div class="team-grid">
                {% for i in (1..4) %}
                    {% assign team_member_name = 'team_member_' | append: i | append: '_name' %}
                    {% assign team_member_role = 'team_member_' | append: i | append: '_role' %}
                    {% assign team_member_bio = 'team_member_' | append: i | append: '_bio' %}
                    {% assign team_member_image = 'team_member_' | append: i | append: '_image' %}
                    
                    {% if settings[team_member_name] != blank %}
                    <div class="team-member">
                        {% if settings[team_member_image] %}
                            {{ settings[team_member_image] | img_url: '300x300' | img_tag: settings[team_member_name], 'lazy' }}
                        {% endif %}
                        <h3>{{ settings[team_member_name] }}</h3>
                        <p class="role">{{ settings[team_member_role] }}</p>
                        <p>{{ settings[team_member_bio] }}</p>
                    </div>
                    {% endif %}
                {% endfor %}
            </div>
        </div>
    </section>
    {% endif %}

    <!-- Statistics Section -->
    <section class="stats-section" aria-labelledby="stats-title">
        <div class="container">
            <h2 id="stats-title" class="section-title">By the Numbers</h2>
            
            <div class="stats-grid">
                <div class="stat-item">
                    <span class="stat-number" data-count="{{ settings.stat_cards_in_stock | default: 50000 }}">0</span>
                    <span class="stat-label">Cards in Stock</span>
                </div>
                
                <div class="stat-item">
                    <span class="stat-number" data-count="{{ settings.stat_happy_customers | default: 5000 }}">0</span>
                    <span class="stat-label">Happy Customers</span>
                </div>
                
                <div class="stat-item">
                    <span class="stat-number" data-count="{{ settings.stat_tournaments_hosted | default: 150 }}">0</span>
                    <span class="stat-label">Tournaments Hosted</span>
                </div>
                
                <div class="stat-item">
                    <span class="stat-number" data-count="{{ settings.stat_game_systems | default: 25 }}">0</span>
                    <span class="stat-label">Game Systems Supported</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Environmental Commitment -->
    {% if settings.show_sustainability_section %}
    <section class="sustainability-section" aria-labelledby="sustainability-title">
        <div class="container">
            <h2 id="sustainability-title" class="section-title">Our Environmental Commitment</h2>
            
            <div class="sustainability-content">
                <div class="sustainability-text">
                    <h3>Protecting Our Magical Realm</h3>
                    <p>As guardians of the forest realm, we take our environmental responsibility seriously. {{ shop.name }} is committed to sustainable practices that protect the natural world that inspires so many of our favorite card games.</p>
                    
                    <ul class="sustainability-list">
                        <li>üå± Eco-friendly packaging made from recycled materials</li>
                        <li>‚ôªÔ∏è Card recycling program for damaged inventory</li>
                        <li>üå≥ Carbon-neutral shipping through renewable energy partnerships</li>
                        <li>üéã Supporting reforestation through our "Trees for Cards" initiative</li>
                        <li>üíö Working with publishers who prioritize sustainable printing practices</li>
                    </ul>
                </div>
                
                <div class="sustainability-image">
                    {% if settings.sustainability_image %}
                        {{ settings.sustainability_image | img_url: '500x500' | img_tag: 'Eco-friendly goblin character surrounded by green plants', 'lazy' }}
                    {% endif %}
                </div>
            </div>
        </div>
    </section>
    {% endif %}

    <!-- Call to Action -->
    <section class="cta-section" aria-labelledby="cta-title">
        <div class="container">
            <h2 id="cta-title" class="cta-title">Join Our Adventure</h2>
            <p class="cta-text">Ready to become part of the {{ shop.name }} family? Whether you're looking for your next competitive deck, rare collectibles, or just want to connect with fellow enthusiasts, we're here to help you on your journey.</p>
            
            <div class="cta-buttons">
                <a href="{{ routes.collections_url }}" class="btn btn-primary">Explore Products</a>
                <a href="{{ pages.contact.url | default: '/pages/contact' }}" class="btn btn-secondary">Contact Goblin Games</a>
            </div>
        </div>
    </section>
</div>

<script>
    // Counter Animation Script (converted from about.html)
    document.addEventListener('DOMContentLoaded', function() {
        const observerOptions = {
            threshold: 0.5,
            rootMargin: '0px'
        };

        const statsObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const counters = entry.target.querySelectorAll('[data-count]');
                    counters.forEach(counter => {
                        animateCounter(counter);
                    });
                    statsObserver.unobserve(entry.target);
                }
            });
        }, observerOptions);

        function animateCounter(element) {
            const target = parseInt(element.dataset.count);
            const duration = 2000;
            const increment = target / (duration / 16);
            let current = 0;

            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    current = target;
                    clearInterval(timer);
                }
                element.textContent = Math.floor(current).toLocaleString();
            }, 16);
        }

        const statsSection = document.querySelector('.stats-section');
        if (statsSection) {
            statsObserver.observe(statsSection);
        }
    });
</script>

<!-- Lore/Our Story Page for Goblin Games -->
<div class="about-lore-page">
  <section class="hero-section">
    <div class="container">
      <h1 class="hero-title">The Legend of {{ shop.name }}</h1>
      <p class="hero-subtitle">Every shop has a story. Ours is written in mana, shuffled in sleeves, and cast across the tables of our local community.</p>
    </div>
  </section>

  <section class="about-preview">
    <div class="container about-content">
      <div class="about-text">
        <h2>Our Origin Story</h2>
        <p>In the heart of our town, a group of Planeswalkers dreamed of a place where spells could fly, friendships could flourish, and every booster pack held the promise of legend. Thus, {{ shop.name }} was born‚Äîa haven for Magic: The Gathering fans, collectors, and adventurers of all kinds.</p>
        <p>From our first Friday Night Magic to epic prerelease battles, our shop has grown into a vibrant community hub. Here, every player is welcome, every deck has a story, and every game is a new adventure.</p>
      </div>
      <div class="about-image">
        <img src="{{ 'lore-art.jpg' | asset_url }}" alt="Planeswalkers gathered at Goblin Games shop" loading="lazy" style="max-width: 100%; border-radius: 18px; box-shadow: 0 8px 32px rgba(60,60,60,0.12);">
      </div>
    </div>
  </section>

  <section class="staff-cards">
    <div class="container">
      <h2 class="section-title">Meet the Guild</h2>
      <div class="staff-grid">
        <!-- Example staff card, repeat for each staff member -->
        <div class="magic-card-frame">
          <div class="card-header">
            <span class="mana-icon">{W}</span>
            <span class="mana-icon">{U}</span>
            <span class="mana-icon">{B}</span>
            <span class="mana-icon">{R}</span>
            <span class="mana-icon">{G}</span>
          </div>
          <div class="card-art">
            <img src="{{ 'staff-justin.jpg' | asset_url }}" alt="Justin the Shopkeeper, Legendary Planeswalker" loading="lazy" />
          </div>
          <div class="card-title">Justin, Shopkeeper</div>
          <div class="card-type">Legendary Creature ‚Äî Human Planeswalker</div>
          <div class="card-text">Whenever a new player enters the shop, Justin welcomes them with a smile and a deck of their choice.<br><em>"Every spark is welcome here."</em></div>
          <div class="card-flavor">"I've seen more topdecks than there are stars in the Multiverse."</div>
        </div>
        <!-- Add more staff cards as needed -->
      </div>
    </div>
  </section>

  <section class="mission-values">
    <div class="container">
      <h2 class="section-title">Our Mission & Values</h2>
      <ul class="values-list">
        <li><strong>Inclusivity:</strong> Every player, every deck, every story is welcome.</li>
        <li><strong>Community:</strong> We're more than a shop‚Äîwe're a gathering place for friends and rivals alike.</li>
        <li><strong>Fun:</strong> Magic is a game, and games are meant to be enjoyed. We celebrate the joy of play.</li>
        <li><strong>Discovery:</strong> There's always a new card, a new combo, or a new friend to find.</li>
      </ul>
    </div>
  </section>

  <section class="cta-block">
    <div class="container">
      <h2 class="section-title">Join Our Story</h2>
      <p>Ready to become a legend? Visit us, join an event, or sign up for our newsletter. The next chapter is yours to write!</p>
      <a href="/" class="btn btn-primary">Return to the Shop</a>
    </div>
  </section>
</div>

<style>
.about-lore-page .staff-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 2.5rem;
  justify-content: center;
  margin-top: 2.5rem;
}
.magic-card-frame {
  background: #fffbe6;
  border: 3px solid var(--mana-gold);
  border-radius: 18px;
  box-shadow: 0 8px 32px rgba(60,60,60,0.12);
  width: 320px;
  padding: 1.5rem 1rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  font-family: 'Cinzel', serif;
  position: relative;
}
.magic-card-frame .card-header {
  display: flex;
  gap: 0.3rem;
  position: absolute;
  top: 1rem;
  right: 1rem;
}
.magic-card-frame .mana-icon {
  font-size: 1.3rem;
  background: #eee;
  border-radius: 50%;
  padding: 0.2rem 0.5rem;
  margin-left: 0.1rem;
  color: #232323;
  border: 1.5px solid #e6c200;
}
.magic-card-frame .card-art img {
  width: 100%;
  border-radius: 12px;
  margin-bottom: 1rem;
}
.magic-card-frame .card-title {
  font-size: 1.3rem;
  font-weight: 700;
  margin-bottom: 0.2rem;
}
.magic-card-frame .card-type {
  font-size: 1rem;
  color: var(--text-secondary);
  margin-bottom: 0.7rem;
}
.magic-card-frame .card-text {
  font-size: 1.05rem;
  margin-bottom: 0.7rem;
}
.magic-card-frame .card-flavor {
  font-style: italic;
  color: var(--mana-blue);
  font-size: 0.98rem;
}
.values-list {
  list-style: none;
  padding: 0;
  margin: 2rem 0 0 0;
}
.values-list li {
  font-size: 1.15rem;
  margin-bottom: 1.2rem;
  padding-left: 1.2rem;
  position: relative;
}
.values-list li:before {
  content: '‚ú¶';
  color: var(--mana-gold);
  position: absolute;
  left: 0;
}
</style>