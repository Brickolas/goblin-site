{% comment %}
    About Page Template for Goblin Games
    Converts about.html to Shopify Liquid template
{% endcomment %}

<div class="page-about">
    <!-- Hero Section -->
    <section class="hero-section about-hero" aria-labelledby="about-hero-title">
        <div class="hero-content">
            <h1 id="about-hero-title" class="hero-title">{{ page.title | default: 'Our Magical Journey' }}</h1>
            <p class="hero-subtitle">{{ page.content | strip_html | truncatewords: 20 | default: 'Discover the story behind Goblin Games and our passion for bringing magic to every card game' }}</p>
        </div>
        <div class="hero-particles" aria-hidden="true"></div>
    </section>

    <!-- Company Story -->
    <section class="story-section" aria-labelledby="story-title">
        <div class="container">
            <h2 id="story-title" class="section-title">The Tale of Goblin Games</h2>
            
            <div class="story-content">
                <div class="story-text">
                    {% if page.content != blank %}
                        {{ page.content }}
                    {% else %}
                        <h3>From Humble Beginnings</h3>
                        <p>In 2019, deep within the mystical forests of the trading card realm, a clever goblin named Grax discovered something extraordinary. While organizing his vast collection of shiny treasures, he realized that the real magic wasn't in hoarding cards‚Äîit was in sharing the joy and wonder they brought to fellow adventurers.</p>
                        
                        <p>What started as a small corner shop in an enchanted tree hollow has grown into the premier destination for trading card game enthusiasts across all realms. Grax's vision was simple: create a place where every card tells a story, every deck holds potential, and every player feels like part of a magical family.</p>
                        
                        <h3>Our Philosophy</h3>
                        <p>At {{ shop.name }}, we believe that trading cards are more than just collectibles‚Äîthey're gateways to imagination, strategy, and connection. Whether you're a seasoned planeswalker, a rookie trainer, or somewhere in between, our cozy goblin house welcomes all who seek adventure through cardboard and strategy.</p>
                    {% endif %}
                </div>
                
                <div class="story-image">
                    {% if settings.about_founder_image %}
                        {{ settings.about_founder_image | img_url: '600x600' | img_tag: 'Grax the Goblin, founder of Goblin Games, surrounded by trading cards in his cozy shop', 'lazy' }}
                    {% else %}
                        <img src="{{ 'grax-founder.jpg' | asset_img_url: '600x600' }}" alt="Grax the Goblin, founder of Goblin Games" loading="lazy">
                    {% endif %}
                    <figcaption>Grax the Goblin in his original tree hollow shop, circa 2019</figcaption>
                </div>
            </div>
        </div>
    </section>

    <!-- Mission & Values -->
    <section class="values-section" aria-labelledby="values-title">
        <div class="container">
            <h2 id="values-title" class="section-title">Our Core Values</h2>
            
            <div class="values-grid">
                <div class="value-card">
                    <div class="value-icon" aria-hidden="true">üéØ</div>
                    <h3>Authenticity</h3>
                    <p>Every card in our collection is guaranteed authentic. We work directly with publishers and trusted distributors to ensure you're getting genuine products every time.</p>
                </div>
                
                <div class="value-card">
                    <div class="value-icon" aria-hidden="true">ü§ù</div>
                    <h3>Community</h3>
                    <p>We're more than a store‚Äîwe're a gathering place for players, collectors, and dreamers. Our events, tournaments, and casual play nights bring people together.</p>
                </div>
                
                <div class="value-card">
                    <div class="value-icon" aria-hidden="true">üåü</div>
                    <h3>Excellence</h3>
                    <p>From customer service to product quality, we strive for excellence in everything we do. Your satisfaction and enjoyment are our top priorities.</p>
                </div>
                
                <div class="value-card">
                    <div class="value-icon" aria-hidden="true">üé®</div>
                    <h3>Creativity</h3>
                    <p>We celebrate the artistry and imagination that goes into every card design, encouraging creative deck building and innovative play styles.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Team Section -->
    {% if settings.show_team_section %}
    <section class="team-section" aria-labelledby="team-title">
        <div class="container">
            <h2 id="team-title" class="section-title">Meet Our Goblin Crew</h2>
            
            <div class="team-grid">
                {% for i in (1..4) %}
                    {% assign team_member_name = 'team_member_' | append: i | append: '_name' %}
                    {% assign team_member_role = 'team_member_' | append: i | append: '_role' %}
                    {% assign team_member_bio = 'team_member_' | append: i | append: '_bio' %}
                    {% assign team_member_image = 'team_member_' | append: i | append: '_image' %}
                    
                    {% if settings[team_member_name] != blank %}
                    <div class="team-member">
                        {% if settings[team_member_image] %}
                            {{ settings[team_member_image] | img_url: '300x300' | img_tag: settings[team_member_name], 'lazy' }}
                        {% endif %}
                        <h3>{{ settings[team_member_name] }}</h3>
                        <p class="role">{{ settings[team_member_role] }}</p>
                        <p>{{ settings[team_member_bio] }}</p>
                    </div>
                    {% endif %}
                {% endfor %}
            </div>
        </div>
    </section>
    {% endif %}

    <!-- Statistics Section -->
    <section class="stats-section" aria-labelledby="stats-title">
        <div class="container">
            <h2 id="stats-title" class="section-title">By the Numbers</h2>
            
            <div class="stats-grid">
                <div class="stat-item">
                    <span class="stat-number" data-count="{{ settings.stat_cards_in_stock | default: 50000 }}">0</span>
                    <span class="stat-label">Cards in Stock</span>
                </div>
                
                <div class="stat-item">
                    <span class="stat-number" data-count="{{ settings.stat_happy_customers | default: 5000 }}">0</span>
                    <span class="stat-label">Happy Customers</span>
                </div>
                
                <div class="stat-item">
                    <span class="stat-number" data-count="{{ settings.stat_tournaments_hosted | default: 150 }}">0</span>
                    <span class="stat-label">Tournaments Hosted</span>
                </div>
                
                <div class="stat-item">
                    <span class="stat-number" data-count="{{ settings.stat_game_systems | default: 25 }}">0</span>
                    <span class="stat-label">Game Systems Supported</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Environmental Commitment -->
    {% if settings.show_sustainability_section %}
    <section class="sustainability-section" aria-labelledby="sustainability-title">
        <div class="container">
            <h2 id="sustainability-title" class="section-title">Our Environmental Commitment</h2>
            
            <div class="sustainability-content">
                <div class="sustainability-text">
                    <h3>Protecting Our Magical Realm</h3>
                    <p>As guardians of the forest realm, we take our environmental responsibility seriously. {{ shop.name }} is committed to sustainable practices that protect the natural world that inspires so many of our favorite card games.</p>
                    
                    <ul class="sustainability-list">
                        <li>üå± Eco-friendly packaging made from recycled materials</li>
                        <li>‚ôªÔ∏è Card recycling program for damaged inventory</li>
                        <li>üå≥ Carbon-neutral shipping through renewable energy partnerships</li>
                        <li>üéã Supporting reforestation through our "Trees for Cards" initiative</li>
                        <li>üíö Working with publishers who prioritize sustainable printing practices</li>
                    </ul>
                </div>
                
                <div class="sustainability-image">
                    {% if settings.sustainability_image %}
                        {{ settings.sustainability_image | img_url: '500x500' | img_tag: 'Eco-friendly goblin character surrounded by green plants', 'lazy' }}
                    {% endif %}
                </div>
            </div>
        </div>
    </section>
    {% endif %}

    <!-- Call to Action -->
    <section class="cta-section" aria-labelledby="cta-title">
        <div class="container">
            <h2 id="cta-title" class="cta-title">Join Our Adventure</h2>
            <p class="cta-text">Ready to become part of the {{ shop.name }} family? Whether you're looking for your next competitive deck, rare collectibles, or just want to connect with fellow enthusiasts, we're here to help you on your journey.</p>
            
            <div class="cta-buttons">
                <a href="{{ routes.collections_url }}" class="btn btn-primary">Explore Products</a>
                <a href="{{ pages.contact.url | default: '/pages/contact' }}" class="btn btn-secondary">Visit Our Store</a>
            </div>
        </div>
    </section>
</div>

<script>
    // Counter Animation Script (converted from about.html)
    document.addEventListener('DOMContentLoaded', function() {
        const observerOptions = {
            threshold: 0.5,
            rootMargin: '0px'
        };

        const statsObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const counters = entry.target.querySelectorAll('[data-count]');
                    counters.forEach(counter => {
                        animateCounter(counter);
                    });
                    statsObserver.unobserve(entry.target);
                }
            });
        }, observerOptions);

        function animateCounter(element) {
            const target = parseInt(element.dataset.count);
            const duration = 2000;
            const increment = target / (duration / 16);
            let current = 0;

            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    current = target;
                    clearInterval(timer);
                }
                element.textContent = Math.floor(current).toLocaleString();
            }, 16);
        }

        const statsSection = document.querySelector('.stats-section');
        if (statsSection) {
            statsObserver.observe(statsSection);
        }
    });
</script>